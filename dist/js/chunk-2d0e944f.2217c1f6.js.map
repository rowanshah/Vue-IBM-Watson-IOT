{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm/legacy/index-d9adb105.js"],"names":["__webpack_require__","r","__webpack_exports__","d","create","transitionEnd","el","callback","unRegTrans","opts","passive","unregister","onTransitionEnd","ev","target","addEventListener","removeEventListener","CSS_VALUE_REGEX","DURATION_MIN","TRANSITION_END_FALLBACK_PADDING_MS","TRANSFORM_PROPS","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","perspective","win","window","raf","requestAnimationFrame","bind","f","Date","now","Animator","this","_hasDur","_hasTweenEffect","_isAsync","_isReverse","_destroyed","hasChildren","isPlaying","hasCompleted","prototype","addElement","length","i","_addEl","nodeType","_elements","push","add","childAnimation","parent","_childAnimations","getDuration","undefined","duration","_duration","isRoot","milliseconds","getEasing","_reversedEasingName","_easingName","easing","name","easingReverse","from","prop","val","_addProp","to","clearProperyAfterTransition","fx","afterClearStyles","trans","fromTo","fromVal","toVal","_getProp","_fxProperties","find","effectName","state","fxProp","shouldTrans","wc","fxState","num","effectUnit","indexOf","match","parseFloat","isNaN","beforeAddClass","className","_beforeAddClasses","beforeRemoveClass","_beforeRemoveClasses","beforeStyles","styles","_beforeStyles","beforeClearStyles","propertyNames","_i","propertyNames_1","beforeAddRead","domReadFn","_readCallbacks","beforeAddWrite","domWriteFn","_writeCallbacks","afterAddClass","_afterAddClasses","afterRemoveClass","_afterRemoveClasses","afterStyles","_afterStyles","propertyNames_2","play","_this","_hasDuration","_clearAsync","_playInit","_playDomInspect","playAsync","Promise","resolve","onFinish","oneTimeCallback","clearExistingCallbacks","playSync","children","children_1","child","_progress","_willChange","_beforeAnimation","dur","_asyncEnd","_playProgress","_playToStep","children_2","_setTrans","_setAfterStyles","_didFinish","stepValue","children_3","shouldComplete","self","_playEnd","_didFinishAll","onTransitionFallback","_timerId","_unregisterTrnsEnd","_transEl","setTimeout","children_4","children_5","_hasDomReads","children_6","stop","clearTimeout","elements","effects","j","finalTransform","fromNum","toNum","tweenEffect","valNum","unit","style","setProperty","forcedLinearEasing","durString","elements_1","transitionDuration","transitionTimingFunction","_fireBeforeReadFunc","_fireBeforeWriteFunc","_setBeforeStyles","children_7","addClasses","removeClasses","_a","elements_2","elementClassList","classList","_b","addClasses_1","c","_c","removeClasses_1","remove","_d","_e","Object","entries","_f","key","value","children_8","readFunctions","readFunctions_1","children_9","writeFunctions","writeFunctions_1","elements_3","beforeAddClasses","beforeAddClasses_1","beforeRemoveClasses","beforeRemoveClasses_1","keys","propName","removeProperty","afterAddClasses","afterAddClasses_1","afterRemoveClasses","afterRemoveClasses_1","_g","_h","_j","addWillChange","willChange","effects_1","effect","propWC","join","elements_4","progressStart","_progressStart","children_10","progressStep","Math","min","max","children_11","progressEnd","currentStepValue","diff","abs","_progressEnd","isAsync","children_12","_onFinishCallbacks","_onFinishOneTimeCallbacks","finishAsyncAnimations","finishNoDurationAnimations","children_13","reverse","shouldReverse","children_14","destroy","children_15","children_16","targetEl","animationBuilder","baseEl"],"mappings":"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","file":"js/chunk-2d0e944f.2217c1f6.js","sourcesContent":["var transitionEnd = function (el, callback) {\n    var unRegTrans;\n    var opts = { passive: true };\n    var unregister = function () {\n        if (unRegTrans) {\n            unRegTrans();\n        }\n    };\n    var onTransitionEnd = function (ev) {\n        if (el === ev.target) {\n            unregister();\n            callback(ev);\n        }\n    };\n    if (el) {\n        el.addEventListener('webkitTransitionEnd', onTransitionEnd, opts);\n        el.addEventListener('transitionend', onTransitionEnd, opts);\n        unRegTrans = function () {\n            el.removeEventListener('webkitTransitionEnd', onTransitionEnd, opts);\n            el.removeEventListener('transitionend', onTransitionEnd, opts);\n        };\n    }\n    return unregister;\n};\nvar CSS_VALUE_REGEX = /(^-?\\d*\\.?\\d*)(.*)/;\nvar DURATION_MIN = 32;\nvar TRANSITION_END_FALLBACK_PADDING_MS = 400;\nvar TRANSFORM_PROPS = {\n    'translateX': 1,\n    'translateY': 1,\n    'translateZ': 1,\n    'scale': 1,\n    'scaleX': 1,\n    'scaleY': 1,\n    'scaleZ': 1,\n    'rotate': 1,\n    'rotateX': 1,\n    'rotateY': 1,\n    'rotateZ': 1,\n    'skewX': 1,\n    'skewY': 1,\n    'perspective': 1\n};\nvar win = typeof window !== 'undefined' ? window : {};\nvar raf = win.requestAnimationFrame\n    ? win.requestAnimationFrame.bind(win)\n    : function (f) { return f(Date.now()); };\nvar Animator = /** @class */ (function () {\n    function Animator() {\n        this._hasDur = false;\n        this._hasTweenEffect = false;\n        this._isAsync = false;\n        this._isReverse = false;\n        this._destroyed = false;\n        this.hasChildren = false;\n        this.isPlaying = false;\n        this.hasCompleted = false;\n    }\n    Animator.prototype.addElement = function (el) {\n        if (el != null) {\n            if (el.length > 0) {\n                for (var i = 0; i < el.length; i++) {\n                    this._addEl(el[i]);\n                }\n            }\n            else {\n                this._addEl(el);\n            }\n        }\n        return this;\n    };\n    /**\n     * NO DOM\n     */\n    Animator.prototype._addEl = function (el) {\n        if (el.nodeType === 1) {\n            (this._elements = this._elements || []).push(el);\n        }\n    };\n    /**\n     * Add a child animation to this animation.\n     */\n    Animator.prototype.add = function (childAnimation) {\n        childAnimation.parent = this;\n        this.hasChildren = true;\n        (this._childAnimations = this._childAnimations || []).push(childAnimation);\n        return this;\n    };\n    /**\n     * Get the duration of this animation. If this animation does\n     * not have a duration, then it'll get the duration from its parent.\n     */\n    Animator.prototype.getDuration = function (opts) {\n        if (opts && opts.duration !== undefined) {\n            return opts.duration;\n        }\n        else if (this._duration !== undefined) {\n            return this._duration;\n        }\n        else if (this.parent) {\n            return this.parent.getDuration();\n        }\n        return 0;\n    };\n    /**\n     * Returns if the animation is a root one.\n     */\n    Animator.prototype.isRoot = function () {\n        return !this.parent;\n    };\n    /**\n     * Set the duration for this animation.\n     */\n    Animator.prototype.duration = function (milliseconds) {\n        this._duration = milliseconds;\n        return this;\n    };\n    /**\n     * Get the easing of this animation. If this animation does\n     * not have an easing, then it'll get the easing from its parent.\n     */\n    Animator.prototype.getEasing = function () {\n        if (this._isReverse && this._reversedEasingName !== undefined) {\n            return this._reversedEasingName;\n        }\n        return this._easingName !== undefined ? this._easingName : (this.parent && this.parent.getEasing()) || null;\n    };\n    /**\n     * Set the easing for this animation.\n     */\n    Animator.prototype.easing = function (name) {\n        this._easingName = name;\n        return this;\n    };\n    /**\n     * Set the easing for this reversed animation.\n     */\n    Animator.prototype.easingReverse = function (name) {\n        this._reversedEasingName = name;\n        return this;\n    };\n    /**\n     * Add the \"from\" value for a specific property.\n     */\n    Animator.prototype.from = function (prop, val) {\n        this._addProp('from', prop, val);\n        return this;\n    };\n    /**\n     * Add the \"to\" value for a specific property.\n     */\n    Animator.prototype.to = function (prop, val, clearProperyAfterTransition) {\n        if (clearProperyAfterTransition === void 0) { clearProperyAfterTransition = false; }\n        var fx = this._addProp('to', prop, val);\n        if (clearProperyAfterTransition) {\n            // if this effect is a transform then clear the transform effect\n            // otherwise just clear the actual property\n            this.afterClearStyles(fx.trans ? ['transform', '-webkit-transform'] : [prop]);\n        }\n        return this;\n    };\n    /**\n     * Shortcut to add both the \"from\" and \"to\" for the same property.\n     */\n    Animator.prototype.fromTo = function (prop, fromVal, toVal, clearProperyAfterTransition) {\n        return this.from(prop, fromVal).to(prop, toVal, clearProperyAfterTransition);\n    };\n    /**\n     * NO DOM\n     */\n    Animator.prototype._getProp = function (name) {\n        if (this._fxProperties) {\n            return this._fxProperties.find(function (prop) { return prop.effectName === name; });\n        }\n        return undefined;\n    };\n    Animator.prototype._addProp = function (state, prop, val) {\n        var fxProp = this._getProp(prop);\n        if (!fxProp) {\n            // first time we've see this EffectProperty\n            var shouldTrans = (TRANSFORM_PROPS[prop] === 1);\n            fxProp = {\n                effectName: prop,\n                trans: shouldTrans,\n                // add the will-change property for transforms or opacity\n                wc: (shouldTrans ? 'transform' : prop)\n            };\n            (this._fxProperties = this._fxProperties || []).push(fxProp);\n        }\n        // add from/to EffectState to the EffectProperty\n        var fxState = {\n            val: val,\n            num: 0,\n            effectUnit: '',\n        };\n        fxProp[state] = fxState;\n        if (typeof val === 'string' && val.indexOf(' ') < 0) {\n            var r = val.match(CSS_VALUE_REGEX);\n            if (r) {\n                var num = parseFloat(r[1]);\n                if (!isNaN(num)) {\n                    fxState.num = num;\n                }\n                fxState.effectUnit = (r[0] !== r[2] ? r[2] : '');\n            }\n        }\n        else if (typeof val === 'number') {\n            fxState.num = val;\n        }\n        return fxProp;\n    };\n    /**\n     * Add CSS class to this animation's elements\n     * before the animation begins.\n     */\n    Animator.prototype.beforeAddClass = function (className) {\n        (this._beforeAddClasses = this._beforeAddClasses || []).push(className);\n        return this;\n    };\n    /**\n     * Remove CSS class from this animation's elements\n     * before the animation begins.\n     */\n    Animator.prototype.beforeRemoveClass = function (className) {\n        (this._beforeRemoveClasses = this._beforeRemoveClasses || []).push(className);\n        return this;\n    };\n    /**\n     * Set CSS inline styles to this animation's elements\n     * before the animation begins.\n     */\n    Animator.prototype.beforeStyles = function (styles) {\n        this._beforeStyles = styles;\n        return this;\n    };\n    /**\n     * Clear CSS inline styles from this animation's elements\n     * before the animation begins.\n     */\n    Animator.prototype.beforeClearStyles = function (propertyNames) {\n        this._beforeStyles = this._beforeStyles || {};\n        for (var _i = 0, propertyNames_1 = propertyNames; _i < propertyNames_1.length; _i++) {\n            var prop = propertyNames_1[_i];\n            this._beforeStyles[prop] = '';\n        }\n        return this;\n    };\n    /**\n     * Add a function which contains DOM reads, which will run\n     * before the animation begins.\n     */\n    Animator.prototype.beforeAddRead = function (domReadFn) {\n        (this._readCallbacks = this._readCallbacks || []).push(domReadFn);\n        return this;\n    };\n    /**\n     * Add a function which contains DOM writes, which will run\n     * before the animation begins.\n     */\n    Animator.prototype.beforeAddWrite = function (domWriteFn) {\n        (this._writeCallbacks = this._writeCallbacks || []).push(domWriteFn);\n        return this;\n    };\n    /**\n     * Add CSS class to this animation's elements\n     * after the animation finishes.\n     */\n    Animator.prototype.afterAddClass = function (className) {\n        (this._afterAddClasses = this._afterAddClasses || []).push(className);\n        return this;\n    };\n    /**\n     * Remove CSS class from this animation's elements\n     * after the animation finishes.\n     */\n    Animator.prototype.afterRemoveClass = function (className) {\n        (this._afterRemoveClasses = this._afterRemoveClasses || []).push(className);\n        return this;\n    };\n    /**\n     * Set CSS inline styles to this animation's elements\n     * after the animation finishes.\n     */\n    Animator.prototype.afterStyles = function (styles) {\n        this._afterStyles = styles;\n        return this;\n    };\n    /**\n     * Clear CSS inline styles from this animation's elements\n     * after the animation finishes.\n     */\n    Animator.prototype.afterClearStyles = function (propertyNames) {\n        this._afterStyles = this._afterStyles || {};\n        for (var _i = 0, propertyNames_2 = propertyNames; _i < propertyNames_2.length; _i++) {\n            var prop = propertyNames_2[_i];\n            this._afterStyles[prop] = '';\n        }\n        return this;\n    };\n    /**\n     * Play the animation.\n     */\n    Animator.prototype.play = function (opts) {\n        var _this = this;\n        // If the animation was already invalidated (it did finish), do nothing\n        if (this._destroyed) {\n            return;\n        }\n        // this is the top level animation and is in full control\n        // of when the async play() should actually kick off\n        // if there is no duration then it'll set the TO property immediately\n        // if there is a duration, then it'll stage all animations at the\n        // FROM property and transition duration, wait a few frames, then\n        // kick off the animation by setting the TO property for each animation\n        this._isAsync = this._hasDuration(opts);\n        // ensure all past transition end events have been cleared\n        this._clearAsync();\n        // recursively kicks off the correct progress step for each child animation\n        // ******** DOM WRITE ****************\n        this._playInit(opts);\n        // doubling up RAFs since this animation was probably triggered\n        // from an input event, and just having one RAF would have this code\n        // run within the same frame as the triggering input event, and the\n        // input event probably already did way too much work for one frame\n        raf(function () {\n            raf(function () {\n                _this._playDomInspect(opts);\n            });\n        });\n    };\n    Animator.prototype.playAsync = function (opts) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.onFinish(resolve, { oneTimeCallback: true, clearExistingCallbacks: true });\n            _this.play(opts);\n            return _this;\n        });\n    };\n    Animator.prototype.playSync = function () {\n        // If the animation was already invalidated (it did finish), do nothing\n        if (!this._destroyed) {\n            var opts = { duration: 0 };\n            this._isAsync = false;\n            this._clearAsync();\n            this._playInit(opts);\n            this._playDomInspect(opts);\n        }\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._playInit = function (opts) {\n        // always default that an animation does not tween\n        // a tween requires that an Animation class has an element\n        // and that it has at least one FROM/TO effect\n        // and that the FROM/TO effect can tween numeric values\n        this._hasTweenEffect = false;\n        this.isPlaying = true;\n        this.hasCompleted = false;\n        this._hasDur = (this.getDuration(opts) > DURATION_MIN);\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n                var child = children_1[_i];\n                // ******** DOM WRITE ****************\n                child._playInit(opts);\n            }\n        }\n        if (this._hasDur) {\n            // if there is a duration then we want to start at step 0\n            // ******** DOM WRITE ****************\n            this._progress(0);\n            // add the will-change properties\n            // ******** DOM WRITE ****************\n            this._willChange(true);\n        }\n    };\n    /**\n     * DOM WRITE\n     * NO RECURSION\n     * ROOT ANIMATION\n     */\n    Animator.prototype._playDomInspect = function (opts) {\n        var _this = this;\n        // fire off all the \"before\" function that have DOM READS in them\n        // elements will be in the DOM, however visibily hidden\n        // so we can read their dimensions if need be\n        // ******** DOM READ ****************\n        // ******** DOM WRITE ****************\n        this._beforeAnimation();\n        // for the root animation only\n        // set the async TRANSITION END event\n        // and run onFinishes when the transition ends\n        var dur = this.getDuration(opts);\n        if (this._isAsync) {\n            this._asyncEnd(dur, true);\n        }\n        // ******** DOM WRITE ****************\n        this._playProgress(opts);\n        if (this._isAsync && !this._destroyed) {\n            // this animation has a duration so we need another RAF\n            // for the CSS TRANSITION properties to kick in\n            raf(function () {\n                _this._playToStep(1);\n            });\n        }\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._playProgress = function (opts) {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_2 = children; _i < children_2.length; _i++) {\n                var child = children_2[_i];\n                // ******** DOM WRITE ****************\n                child._playProgress(opts);\n            }\n        }\n        if (this._hasDur) {\n            // set the CSS TRANSITION duration/easing\n            // ******** DOM WRITE ****************\n            this._setTrans(this.getDuration(opts), false);\n        }\n        else {\n            // this animation does not have a duration, so it should not animate\n            // just go straight to the TO properties and call it done\n            // ******** DOM WRITE ****************\n            this._progress(1);\n            // since there was no animation, immediately run the after\n            // ******** DOM WRITE ****************\n            this._setAfterStyles();\n            // this animation has no duration, so it has finished\n            // other animations could still be running\n            this._didFinish(true);\n        }\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._playToStep = function (stepValue) {\n        if (!this._destroyed) {\n            var children = this._childAnimations;\n            if (children) {\n                for (var _i = 0, children_3 = children; _i < children_3.length; _i++) {\n                    var child = children_3[_i];\n                    // ******** DOM WRITE ****************\n                    child._playToStep(stepValue);\n                }\n            }\n            if (this._hasDur) {\n                // browser had some time to render everything in place\n                // and the transition duration/easing is set\n                // now set the TO properties which will trigger the transition to begin\n                // ******** DOM WRITE ****************\n                this._progress(stepValue);\n            }\n        }\n    };\n    /**\n     * DOM WRITE\n     * NO RECURSION\n     * ROOT ANIMATION\n     */\n    Animator.prototype._asyncEnd = function (dur, shouldComplete) {\n        var self = this;\n        var onTransitionEnd = function () {\n            // congrats! a successful transition completed!\n            // ensure transition end events and timeouts have been cleared\n            self._clearAsync();\n            // ******** DOM WRITE ****************\n            self._playEnd();\n            // transition finished\n            self._didFinishAll(shouldComplete, true, false);\n        };\n        var onTransitionFallback = function () {\n            // oh noz! the transition end event didn't fire in time!\n            // instead the fallback timer when first\n            // if all goes well this fallback should never fire\n            // clear the other async end events from firing\n            self._timerId = undefined;\n            self._clearAsync();\n            // set the after styles\n            // ******** DOM WRITE ****************\n            self._playEnd(shouldComplete ? 1 : 0);\n            // transition finished\n            self._didFinishAll(shouldComplete, true, false);\n        };\n        // set the TRANSITION END event on one of the transition elements\n        self._unregisterTrnsEnd = transitionEnd(self._transEl(), onTransitionEnd);\n        // set a fallback timeout if the transition end event never fires, or is too slow\n        // transition end fallback: (animation duration + XXms)\n        self._timerId = setTimeout(onTransitionFallback, (dur + TRANSITION_END_FALLBACK_PADDING_MS));\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._playEnd = function (stepValue) {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_4 = children; _i < children_4.length; _i++) {\n                var child = children_4[_i];\n                // ******** DOM WRITE ****************\n                child._playEnd(stepValue);\n            }\n        }\n        if (this._hasDur) {\n            if (stepValue !== undefined) {\n                // too late to have a smooth animation, just finish it\n                // ******** DOM WRITE ****************\n                this._setTrans(0, true);\n                // ensure the ending progress step gets rendered\n                // ******** DOM WRITE ****************\n                this._progress(stepValue);\n            }\n            // set the after styles\n            // ******** DOM WRITE ****************\n            this._setAfterStyles();\n            // remove the will-change properties\n            // ******** DOM WRITE ****************\n            this._willChange(false);\n        }\n    };\n    /**\n     * NO DOM\n     * RECURSION\n     */\n    Animator.prototype._hasDuration = function (opts) {\n        if (this.getDuration(opts) > DURATION_MIN) {\n            return true;\n        }\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_5 = children; _i < children_5.length; _i++) {\n                var child = children_5[_i];\n                if (child._hasDuration(opts)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * NO DOM\n     * RECURSION\n     */\n    Animator.prototype._hasDomReads = function () {\n        if (this._readCallbacks && this._readCallbacks.length > 0) {\n            return true;\n        }\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_6 = children; _i < children_6.length; _i++) {\n                var child = children_6[_i];\n                if (child._hasDomReads()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Immediately stop at the end of the animation.\n     */\n    Animator.prototype.stop = function (stepValue) {\n        if (stepValue === void 0) { stepValue = 1; }\n        // ensure all past transition end events have been cleared\n        this._clearAsync();\n        this._hasDur = true;\n        this._playEnd(stepValue);\n    };\n    /**\n     * NO DOM\n     * NO RECURSION\n     */\n    Animator.prototype._clearAsync = function () {\n        if (this._unregisterTrnsEnd) {\n            this._unregisterTrnsEnd();\n        }\n        if (this._timerId) {\n            clearTimeout(this._timerId);\n        }\n        this._timerId = this._unregisterTrnsEnd = undefined;\n    };\n    /**\n     * DOM WRITE\n     * NO RECURSION\n     */\n    Animator.prototype._progress = function (stepValue) {\n        // bread 'n butter\n        var val;\n        var elements = this._elements;\n        var effects = this._fxProperties;\n        if (!elements || elements.length === 0 || !effects || this._destroyed) {\n            return;\n        }\n        // flip the number if we're going in reverse\n        if (this._isReverse) {\n            stepValue = 1 - stepValue;\n        }\n        var i = 0;\n        var j = 0;\n        var finalTransform = '';\n        var fx;\n        for (i = 0; i < effects.length; i++) {\n            fx = effects[i];\n            if (fx.from && fx.to) {\n                var fromNum = fx.from.num;\n                var toNum = fx.to.num;\n                var tweenEffect = (fromNum !== toNum);\n                if (tweenEffect) {\n                    this._hasTweenEffect = true;\n                }\n                if (stepValue === 0) {\n                    // FROM\n                    val = fx.from.val;\n                }\n                else if (stepValue === 1) {\n                    // TO\n                    val = fx.to.val;\n                }\n                else if (tweenEffect) {\n                    // EVERYTHING IN BETWEEN\n                    var valNum = (((toNum - fromNum) * stepValue) + fromNum);\n                    var unit = fx.to.effectUnit;\n                    val = valNum + unit;\n                }\n                if (val !== null) {\n                    var prop = fx.effectName;\n                    if (fx.trans) {\n                        finalTransform += prop + '(' + val + ') ';\n                    }\n                    else {\n                        for (j = 0; j < elements.length; j++) {\n                            // ******** DOM WRITE ****************\n                            elements[j].style.setProperty(prop, val);\n                        }\n                    }\n                }\n            }\n        }\n        // place all transforms on the same property\n        if (finalTransform.length > 0) {\n            if (!this._isReverse && stepValue !== 1 || this._isReverse && stepValue !== 0) {\n                finalTransform += 'translateZ(0px)';\n            }\n            for (i = 0; i < elements.length; i++) {\n                // ******** DOM WRITE ****************\n                elements[i].style.setProperty('transform', finalTransform);\n                elements[i].style.setProperty('-webkit-transform', finalTransform);\n            }\n        }\n    };\n    /**\n     * DOM WRITE\n     * NO RECURSION\n     */\n    Animator.prototype._setTrans = function (dur, forcedLinearEasing) {\n        // Transition is not enabled if there are not effects\n        var elements = this._elements;\n        if (!elements || elements.length === 0 || !this._fxProperties) {\n            return;\n        }\n        // set the TRANSITION properties inline on the element\n        var easing = (forcedLinearEasing ? 'linear' : this.getEasing());\n        var durString = dur + 'ms';\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var style = elements_1[_i].style;\n            if (dur > 0) {\n                // ******** DOM WRITE ****************\n                style.transitionDuration = durString;\n                // each animation can have a different easing\n                if (easing !== null) {\n                    // ******** DOM WRITE ****************\n                    style.transitionTimingFunction = easing;\n                }\n            }\n            else {\n                style.transitionDuration = '0';\n            }\n        }\n    };\n    /**\n     * DOM READ\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._beforeAnimation = function () {\n        // fire off all the \"before\" function that have DOM READS in them\n        // elements will be in the DOM, however visibily hidden\n        // so we can read their dimensions if need be\n        // ******** DOM READ ****************\n        this._fireBeforeReadFunc();\n        // ******** DOM READS ABOVE / DOM WRITES BELOW ****************\n        // fire off all the \"before\" function that have DOM WRITES in them\n        // ******** DOM WRITE ****************\n        this._fireBeforeWriteFunc();\n        // stage all of the before css classes and inline styles\n        // ******** DOM WRITE ****************\n        this._setBeforeStyles();\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._setBeforeStyles = function () {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_7 = children; _i < children_7.length; _i++) {\n                var child = children_7[_i];\n                child._setBeforeStyles();\n            }\n        }\n        var elements = this._elements;\n        // before the animations have started\n        // only set before styles if animation is not reversed\n        if (!elements || elements.length === 0 || this._isReverse) {\n            return;\n        }\n        var addClasses = this._beforeAddClasses;\n        var removeClasses = this._beforeRemoveClasses;\n        for (var _a = 0, elements_2 = elements; _a < elements_2.length; _a++) {\n            var el = elements_2[_a];\n            var elementClassList = el.classList;\n            // css classes to add before the animation\n            if (addClasses) {\n                for (var _b = 0, addClasses_1 = addClasses; _b < addClasses_1.length; _b++) {\n                    var c = addClasses_1[_b];\n                    // ******** DOM WRITE ****************\n                    elementClassList.add(c);\n                }\n            }\n            // css classes to remove before the animation\n            if (removeClasses) {\n                for (var _c = 0, removeClasses_1 = removeClasses; _c < removeClasses_1.length; _c++) {\n                    var c = removeClasses_1[_c];\n                    // ******** DOM WRITE ****************\n                    elementClassList.remove(c);\n                }\n            }\n            // inline styles to add before the animation\n            if (this._beforeStyles) {\n                for (var _d = 0, _e = Object.entries(this._beforeStyles); _d < _e.length; _d++) {\n                    var _f = _e[_d], key = _f[0], value = _f[1];\n                    // ******** DOM WRITE ****************\n                    el.style.setProperty(key, value);\n                }\n            }\n        }\n    };\n    /**\n     * DOM READ\n     * RECURSION\n     */\n    Animator.prototype._fireBeforeReadFunc = function () {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_8 = children; _i < children_8.length; _i++) {\n                var child = children_8[_i];\n                // ******** DOM READ ****************\n                child._fireBeforeReadFunc();\n            }\n        }\n        var readFunctions = this._readCallbacks;\n        if (readFunctions) {\n            for (var _a = 0, readFunctions_1 = readFunctions; _a < readFunctions_1.length; _a++) {\n                var callback = readFunctions_1[_a];\n                // ******** DOM READ ****************\n                callback();\n            }\n        }\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._fireBeforeWriteFunc = function () {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_9 = children; _i < children_9.length; _i++) {\n                var child = children_9[_i];\n                // ******** DOM WRITE ****************\n                child._fireBeforeWriteFunc();\n            }\n        }\n        var writeFunctions = this._writeCallbacks;\n        if (writeFunctions) {\n            for (var _a = 0, writeFunctions_1 = writeFunctions; _a < writeFunctions_1.length; _a++) {\n                var callback = writeFunctions_1[_a];\n                // ******** DOM WRITE ****************\n                callback();\n            }\n        }\n    };\n    /**\n     * DOM WRITE\n     */\n    Animator.prototype._setAfterStyles = function () {\n        var elements = this._elements;\n        if (!elements) {\n            return;\n        }\n        for (var _i = 0, elements_3 = elements; _i < elements_3.length; _i++) {\n            var el = elements_3[_i];\n            var elementClassList = el.classList;\n            // remove the transition duration/easing\n            // ******** DOM WRITE ****************\n            el.style.transitionDuration = el.style.transitionTimingFunction = '';\n            if (this._isReverse) {\n                // finished in reverse direction\n                // css classes that were added before the animation should be removed\n                var beforeAddClasses = this._beforeAddClasses;\n                if (beforeAddClasses) {\n                    for (var _a = 0, beforeAddClasses_1 = beforeAddClasses; _a < beforeAddClasses_1.length; _a++) {\n                        var c = beforeAddClasses_1[_a];\n                        elementClassList.remove(c);\n                    }\n                }\n                // css classes that were removed before the animation should be added\n                var beforeRemoveClasses = this._beforeRemoveClasses;\n                if (beforeRemoveClasses) {\n                    for (var _b = 0, beforeRemoveClasses_1 = beforeRemoveClasses; _b < beforeRemoveClasses_1.length; _b++) {\n                        var c = beforeRemoveClasses_1[_b];\n                        elementClassList.add(c);\n                    }\n                }\n                // inline styles that were added before the animation should be removed\n                var beforeStyles = this._beforeStyles;\n                if (beforeStyles) {\n                    for (var _c = 0, _d = Object.keys(beforeStyles); _c < _d.length; _c++) {\n                        var propName = _d[_c];\n                        // ******** DOM WRITE ****************\n                        el.style.removeProperty(propName);\n                    }\n                }\n            }\n            else {\n                // finished in forward direction\n                // css classes to add after the animation\n                var afterAddClasses = this._afterAddClasses;\n                if (afterAddClasses) {\n                    for (var _e = 0, afterAddClasses_1 = afterAddClasses; _e < afterAddClasses_1.length; _e++) {\n                        var c = afterAddClasses_1[_e];\n                        // ******** DOM WRITE ****************\n                        elementClassList.add(c);\n                    }\n                }\n                // css classes to remove after the animation\n                var afterRemoveClasses = this._afterRemoveClasses;\n                if (afterRemoveClasses) {\n                    for (var _f = 0, afterRemoveClasses_1 = afterRemoveClasses; _f < afterRemoveClasses_1.length; _f++) {\n                        var c = afterRemoveClasses_1[_f];\n                        // ******** DOM WRITE ****************\n                        elementClassList.remove(c);\n                    }\n                }\n                // inline styles to add after the animation\n                var afterStyles = this._afterStyles;\n                if (afterStyles) {\n                    for (var _g = 0, _h = Object.entries(afterStyles); _g < _h.length; _g++) {\n                        var _j = _h[_g], key = _j[0], value = _j[1];\n                        el.style.setProperty(key, value);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * DOM WRITE\n     * NO RECURSION\n     */\n    Animator.prototype._willChange = function (addWillChange) {\n        var wc;\n        var effects = this._fxProperties;\n        var willChange;\n        if (addWillChange && effects) {\n            wc = [];\n            for (var _i = 0, effects_1 = effects; _i < effects_1.length; _i++) {\n                var effect = effects_1[_i];\n                var propWC = effect.wc;\n                if (propWC === 'webkitTransform') {\n                    wc.push('transform', '-webkit-transform');\n                }\n                else if (propWC !== undefined) {\n                    wc.push(propWC);\n                }\n            }\n            willChange = wc.join(',');\n        }\n        else {\n            willChange = '';\n        }\n        var elements = this._elements;\n        if (elements) {\n            for (var _a = 0, elements_4 = elements; _a < elements_4.length; _a++) {\n                var el = elements_4[_a];\n                // ******** DOM WRITE ****************\n                el.style.setProperty('will-change', willChange);\n            }\n        }\n    };\n    /**\n     * Start the animation with a user controlled progress.\n     */\n    Animator.prototype.progressStart = function () {\n        // ensure all past transition end events have been cleared\n        this._clearAsync();\n        // ******** DOM READ/WRITE ****************\n        this._beforeAnimation();\n        // ******** DOM WRITE ****************\n        this._progressStart();\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._progressStart = function () {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_10 = children; _i < children_10.length; _i++) {\n                var child = children_10[_i];\n                // ******** DOM WRITE ****************\n                child._progressStart();\n            }\n        }\n        // force no duration, linear easing\n        // ******** DOM WRITE ****************\n        this._setTrans(0, true);\n        // ******** DOM WRITE ****************\n        this._willChange(true);\n    };\n    /**\n     * Set the progress step for this animation.\n     * progressStep() is not debounced, so it should not be called faster than 60FPS.\n     */\n    Animator.prototype.progressStep = function (stepValue) {\n        // only update if the last update was more than 16ms ago\n        stepValue = Math.min(1, Math.max(0, stepValue));\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_11 = children; _i < children_11.length; _i++) {\n                var child = children_11[_i];\n                // ******** DOM WRITE ****************\n                child.progressStep(stepValue);\n            }\n        }\n        // ******** DOM WRITE ****************\n        this._progress(stepValue);\n    };\n    /**\n     * End the progress animation.\n     */\n    Animator.prototype.progressEnd = function (shouldComplete, currentStepValue, dur) {\n        var _this = this;\n        if (dur === void 0) { dur = -1; }\n        if (this._isReverse) {\n            // if the animation is going in reverse then\n            // flip the step value: 0 becomes 1, 1 becomes 0\n            currentStepValue = 1 - currentStepValue;\n        }\n        var stepValue = shouldComplete ? 1 : 0;\n        var diff = Math.abs(currentStepValue - stepValue);\n        if (dur < 0) {\n            dur = this._duration || 0;\n        }\n        else if (diff < 0.05) {\n            dur = 0;\n        }\n        this._isAsync = (dur > 30);\n        this._progressEnd(shouldComplete, stepValue, dur, this._isAsync);\n        if (this._isAsync) {\n            // for the root animation only\n            // set the async TRANSITION END event\n            // and run onFinishes when the transition ends\n            // ******** DOM WRITE ****************\n            this._asyncEnd(dur, shouldComplete);\n            // this animation has a duration so we need another RAF\n            // for the CSS TRANSITION properties to kick in\n            if (!this._destroyed) {\n                raf(function () {\n                    _this._playToStep(stepValue);\n                });\n            }\n        }\n    };\n    /**\n     * DOM WRITE\n     * RECURSION\n     */\n    Animator.prototype._progressEnd = function (shouldComplete, stepValue, dur, isAsync) {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_12 = children; _i < children_12.length; _i++) {\n                var child = children_12[_i];\n                // ******** DOM WRITE ****************\n                child._progressEnd(shouldComplete, stepValue, dur, isAsync);\n            }\n        }\n        if (!isAsync) {\n            // stop immediately\n            // set all the animations to their final position\n            // ******** DOM WRITE ****************\n            this._progress(stepValue);\n            this._willChange(false);\n            this._setAfterStyles();\n            this._didFinish(shouldComplete);\n        }\n        else {\n            // animate it back to it's ending position\n            this.isPlaying = true;\n            this.hasCompleted = false;\n            this._hasDur = true;\n            // ******** DOM WRITE ****************\n            this._willChange(true);\n            this._setTrans(dur, false);\n        }\n    };\n    /**\n     * Add a callback to fire when the animation has finished.\n     */\n    Animator.prototype.onFinish = function (callback, opts) {\n        if (opts && opts.clearExistingCallbacks) {\n            this._onFinishCallbacks = this._onFinishOneTimeCallbacks = undefined;\n        }\n        if (opts && opts.oneTimeCallback) {\n            this._onFinishOneTimeCallbacks = this._onFinishOneTimeCallbacks || [];\n            this._onFinishOneTimeCallbacks.push(callback);\n        }\n        else {\n            this._onFinishCallbacks = this._onFinishCallbacks || [];\n            this._onFinishCallbacks.push(callback);\n        }\n        return this;\n    };\n    /**\n     * NO DOM\n     * RECURSION\n     */\n    Animator.prototype._didFinishAll = function (hasCompleted, finishAsyncAnimations, finishNoDurationAnimations) {\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_13 = children; _i < children_13.length; _i++) {\n                var child = children_13[_i];\n                child._didFinishAll(hasCompleted, finishAsyncAnimations, finishNoDurationAnimations);\n            }\n        }\n        if (finishAsyncAnimations && this._isAsync || finishNoDurationAnimations && !this._isAsync) {\n            this._didFinish(hasCompleted);\n        }\n    };\n    /**\n     * NO RECURSION\n     */\n    Animator.prototype._didFinish = function (hasCompleted) {\n        this.isPlaying = false;\n        this.hasCompleted = hasCompleted;\n        if (this._onFinishCallbacks) {\n            // run all finish callbacks\n            for (var _i = 0, _a = this._onFinishCallbacks; _i < _a.length; _i++) {\n                var callback = _a[_i];\n                callback(this);\n            }\n        }\n        if (this._onFinishOneTimeCallbacks) {\n            // run all \"onetime\" finish callbacks\n            for (var _b = 0, _c = this._onFinishOneTimeCallbacks; _b < _c.length; _b++) {\n                var callback = _c[_b];\n                callback(this);\n            }\n            this._onFinishOneTimeCallbacks.length = 0;\n        }\n    };\n    /**\n     * Reverse the animation.\n     */\n    Animator.prototype.reverse = function (shouldReverse) {\n        if (shouldReverse === void 0) { shouldReverse = true; }\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_14 = children; _i < children_14.length; _i++) {\n                var child = children_14[_i];\n                child.reverse(shouldReverse);\n            }\n        }\n        this._isReverse = !!shouldReverse;\n        return this;\n    };\n    /**\n     * Recursively destroy this animation and all child animations.\n     */\n    Animator.prototype.destroy = function () {\n        this._didFinish(false);\n        this._destroyed = true;\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_15 = children; _i < children_15.length; _i++) {\n                var child = children_15[_i];\n                child.destroy();\n            }\n        }\n        this._clearAsync();\n        if (this._elements) {\n            this._elements.length = 0;\n        }\n        if (this._readCallbacks) {\n            this._readCallbacks.length = 0;\n        }\n        if (this._writeCallbacks) {\n            this._writeCallbacks.length = 0;\n        }\n        this.parent = undefined;\n        if (this._childAnimations) {\n            this._childAnimations.length = 0;\n        }\n        if (this._onFinishCallbacks) {\n            this._onFinishCallbacks.length = 0;\n        }\n        if (this._onFinishOneTimeCallbacks) {\n            this._onFinishOneTimeCallbacks.length = 0;\n        }\n    };\n    /**\n     * NO DOM\n     */\n    Animator.prototype._transEl = function () {\n        // get the lowest level element that has an Animator\n        var children = this._childAnimations;\n        if (children) {\n            for (var _i = 0, children_16 = children; _i < children_16.length; _i++) {\n                var child = children_16[_i];\n                var targetEl = child._transEl();\n                if (targetEl) {\n                    return targetEl;\n                }\n            }\n        }\n        return (this._hasTweenEffect &&\n            this._hasDur &&\n            this._elements !== undefined &&\n            this._elements.length > 0 ?\n            this._elements[0] : null);\n    };\n    return Animator;\n}());\nvar create = function (animationBuilder, baseEl, opts) {\n    if (animationBuilder) {\n        return animationBuilder(Animator, baseEl, opts);\n    }\n    return Promise.resolve(new Animator());\n};\nexport { create };\n"],"sourceRoot":""}