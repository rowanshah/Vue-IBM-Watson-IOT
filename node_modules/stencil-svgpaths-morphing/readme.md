![Built With Stencil](https://img.shields.io/badge/-Built%20With%20Stencil-16161d.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI%2BCgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU%2BCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MjQuNywzNzMuOWMwLDM3LjYtNTUuMSw2OC42LTkyLjcsNjguNkgxODAuNGMtMzcuOSwwLTkyLjctMzAuNy05Mi43LTY4LjZ2LTMuNmgzMzYuOVYzNzMuOXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQyNC43LDI5Mi4xSDE4MC40Yy0zNy42LDAtOTIuNy0zMS05Mi43LTY4LjZ2LTMuNkgzMzJjMzcuNiwwLDkyLjcsMzEsOTIuNyw2OC42VjI5Mi4xeiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDI0LjcsMTQxLjdIODcuN3YtMy42YzAtMzcuNiw1NC44LTY4LjYsOTIuNy02OC42SDMzMmMzNy45LDAsOTIuNywzMC43LDkyLjcsNjguNlYxNDEuN3oiLz4KPC9zdmc%2BCg%3D%3D&colorA=16161d&style=flat-square)

# Stencil SVGPaths Morphing Web Component

The SVGPaths Morphing Web Component allows for the control of morphing process from path to path through its properties.
The morphing process provides:
    - the conversion of any given svg paths in cubic bezier segments and align the number of segments of each path to either the number of segments of the path which got the maximum number of segments or on a number of segments given by a property.
    - a pathIndex property which control the alignment of the path starting points (circular permutation clockwise >0 anticlockwise <0)
    - the morphing animation which might be controlled by the use of several properties like the keyTimes, the calcMode ("linear, spline") and the keySplines.

## ViewMe
[SVG morphing ViewMe](https://jeepcomponentsviewme.firebaseapp.com/svgmorph)


## SVG Paths Restriction
this release includes for Path definition (M,m,L,l,H,h,V,v,Q,q,C,c) and excludes (A,a,S,s,T,t)

## Usage

  - without default properties and one color 

    ```html
    <jeep-svgmorph>
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60"></path>   
        </svg>
    </jeep-svgmorph>
    ```
    it will run one time and all the paths will have the color #1eb287

  - with repeatCount property set to two

    ```html
    <jeep-svgmorph repeatCount="2">
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60"></path>   
        </svg>
    </jeep-svgmorph>
    ```
    it will run twice and all the paths will have the color #1eb287

  - with duration property set to 4000ms,repeatCount property set to indefinite and color defined for each path

    ```html
    <jeep-svgmorph duration="4000ms" repeatcount="indefinite">
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100" fill="#f8ef07"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60" fill='#142de2'></path>   
        </svg>
    </jeep-svgmorph>
    ```
    it will run indefinitely morphing the paths and colors over a period of 4000ms

  - with pathIndex property set to "1;0;1"

    ```html
    <jeep-svgmorph duration="4000ms" repeatcount="2" pathindex="1;0;1">
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100" fill="#f8ef07"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60" fill='#142de2'></path>   
        </svg>
    </jeep-svgmorph>
    ```
    now the square and the star are aligned regarding starting points but not the star to the octogon

  - with pathIndex property set to "2;0;1" and the nSegment property set to 16

    ```html
    <jeep-svgmorph duration="4000ms" repeatcount="2" pathindex="2;0;1" nsegment="16">
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100" fill="#f8ef07"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60" fill='#142de2'></path>   
        </svg>
    </jeep-svgmorph>
    ```
    now the square and the star and the octogon paths are aligned regarding starting points

  - with keyTimes property set to "0;.30;1"

    ```html
    <jeep-svgmorph duration="4000ms" repeatcount="2" pathindex="2;0;1" nsegment="16"
        keytimes="0;.30;1" >
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100" fill="#f8ef07"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60" fill='#142de2'></path>   
        </svg>
    </jeep-svgmorph>
    ```
    now the square to star morphing takes 30% of the duration and the star to octogon morphing takes 70% of the duration

  - with calcMode property set to "spline" and keySplines set

    ```html
    <jeep-svgmorph duration="4000ms" repeatcount="2" pathindex="2;0;1;0;0;2" nsegment="16" 
        keytimes="0;.2;.4;.55;.85;1" calcmode="spline" 
        keysplines="0.645,0.045,0.355,1;0.645,0.045,0.355,1;0.645,0.045,0.355,1;
        0.645,0.045,0.355,1;0.645,0.045,0.355,1">
        <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        <path d="M 250,100 L 270,230 400,250 270,270 250,400 230,270 100,250 230,230 250,100" fill="#f8ef07"></path>   
        <path d="M 171.29942,60 H 328.70057 L 440,171.29942 V 328.70057 L 328.70057,440 H 171.29942 L 60,328.70057 V 171.29942 L 171.29942,60" fill='#142de2'></path>   
        <path d="M 250,230 C 280,100 450,150 400,250 L 280,450 C 260,480 240,480 220,450 L100,250 C 50,150 220,100 250,230" fill="#ff0000"></path>
        <path d="M 250,50 C 270,50 370,250 270,150 V 230 H 350 C 370,230 450,230 450,250 
        C 450,270 370,270 350,270 H 270 V 350 C 270,370 270 450 250,450 C 230 450 230 370 230 350 
        V 270 H 150 C 130,270 50,270 50,250 C 50,230 130,230 150,230 H 230 V 150 
        C 130,250 230,50 250 50" fill="#e97f0d"></path>
        <path d="M100,100 H400 V400 H 100 V 100" fill="#1eb287"></path>   
        </svg>
    </jeep-svgmorph>
    ```
    you got a quite control morphing set

## Getting Started
### To use the Web Component as script tag
Put the following script tag in the head of your index.html file
```html
  <script type="module">
      import { defineCustomElements as svgmorph} from 'https://unpkg.com/stencil-svgpaths-morphing@one/dist/esm/loader.mjs';
      svgmorph(window);
  </script>
  <script nomodule src="https://unpkg.com/stencil-svgpaths-morphing@one/dist/jeepsvgmorph/jeepsvgmorph.js"></script>
```
   
### To use the Web Component in a stencil-app-starter app
```bash
npm install stencil-svgpaths-morphing@one --save
```

Stencil App that shows an integration of [stencil-svgpaths-morphing web component](https://github.com/jepiqueau/stencil-app-svgpaths-morphing)

### To use the Web Component in a Ionic4 Project

```bash
npm install stencil-svgpaths-morphing@one --save
```
Follow the instruction given in https://stenciljs.com/docs/angular .

Ionic4 App that shows an integration of [stencil-svgpaths-morphing web component](https://github.com/jepiqueau/ionic-test-stencil-svgpaths-morphing)

### To use the Web Component in a Vue.js Project

```bash
npm install stencil-svgpaths-morphing@one --save
```
Follow the instruction given in https://stenciljs.com/docs/vue .

```in main.js
import { defineCustomElements as morphing} from "stencil-svgpaths-morphing/dist/loader";
...
Vue.config.ignoredElements = [/jeep-\w*/];
...
morphing(window);

```

Vue App that shows an integration of [stencil-svgpaths-morphing web component](https://github.com/jepiqueau/vue-test-stencil-svgpaths-morphing)


### To use the Web Component in your Project
```bash
npm install stencil-svgpaths-morphing@one --save
```

### To start this Project

clone this repo to a new directory:

```bash
git clone https://github.com/jepiqueau/stencil-svgpaths-morphing/tree/stencilone my-app
cd my-app
git remote rm origin
npm install
npm start
```

To run the unit tests once, run:

```bash
npm run test.spec
```
To run the e2d tests once, run:

```bash
npm run test.e2e
```

To run the unit and e2d tests once, run:

```bash
npm test
```

